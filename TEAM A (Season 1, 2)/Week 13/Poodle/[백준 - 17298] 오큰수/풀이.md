# 링크

[17298번: 오큰수](https://www.acmicpc.net/problem/17298)

# **설명**

- 수열의 길이 N(≤ 10^6)이 주어지고, N개의 수열 요소들이 순서대로 주어짐
- i번째 수열의 요소에 대한 **오큰수**를, i번째 요소의 오른쪽에 있으면서 i번째 요소보다 큰 수들 중에서 가장 왼쪽 수로 정의함
- 수열의 주어진 순서대로 각 i번째 요소의 오큰수를 출력

# 테스트 케이스

- 테스트 케이스 1
    
    ```python
    # 입력
    4
    3 5 2 7
    
    # 출력
    5 7 7 -1
    ```
    
- 테스트 케이스 2
    
    ```python
    # 입력
    4
    9 5 4 8
    
    # 출력
    -1 8 8 -1
    ```
    

---

# **문제 관찰 과정**

- arr의 모든 수를 한 번 순회하는 것은 10^6. 정렬되어 있는 것도 아니니 이분 탐색 등을 수행하는 것도 아닐 것 같음
- 어떻게든 스택을 활용해야겠다는 느낌이 옴
- 관찰 포인트
    1. 맨 오른쪽은 무조건 -1
    2. 역순으로 접근해도 괜찮을 듯
- 테스트 케이스 시뮬레이션 머릿속으로 돌려보기
→ 순서대로 `[주어진 스택, 역순으로 i번째 요소, 오큰수 출력, 추가된 스택의 결과]`
    
    ```python
    # []        7   -1  [7]
    # [7]       2   7   [7, 2]
    # [7, 2]    5   7   [7, 5]
    # [7, 5]    3   5   [7, 5, 3]
    ```
    

# **문제 풀이**

- **스택**으로 풀이
- 스택 변수 `stack` 빈 상태로 초기화
- 주어진 수열의 요소들을 역순으로 순회
    1. 현재 가리키는 수열의 요소 → `current`
    2. 스택이 비어 있지 않고, 스택의 top이 `current`보다 작거나 같을 동안 계속 pop()
    3. 2가 끝난 상태에서, 스택이 비어 있지 않다면 **스택의 top**, 비어 있다면 **-1**이 `current`의 오큰수임
    4. 스택에 `current`를 push()
- 각 수열 요소를 역순으로 순회하며 오큰수를 구한 다음, 정답에서는 다시 역순으로 출력할 필요가 있으므로 `answer` 배열을 따로 만들어 놓은 다음 `print(*answer[::-1])`

# **코드**

- 1번째 풀이 : 2023-09-03, 소요시간 17분 26초
    
    ```python
    # 백준 17298번: 오큰수
    
    import sys
    
    input = sys.stdin.readline
    
    # N <= 10^6
    N = int(input())
    
    arr = list(map(int, input().rstrip().split()))
    
    # arr의 모든 수를 한 번 순회하는 것은 10^6
    # 어떻게든 스택을 활용해야 함
    
    # 관찰 키워드 1: 마지막은 무조건 -1
    # 관찰 키워드 2: 역순?
    
    # []        7   -1  [7]
    # [7]       2   7   [7, 2]
    # [7, 2]    5   7   [7, 5]
    # [7, 5]    3   5   [7, 5, 3]
    
    stack = []
    answer = []
    
    for idx in range(len(arr) - 1, -1, -1):
        current = arr[idx]
    
        while stack and stack[-1] <= current:
            stack.pop()
        right_biggest = stack[-1] if stack else -1
    
        stack.append(current)
        answer.append(right_biggest)
    
    print(*answer[::-1])
    ```
    

# **여담**

.

# 참고 링크

.
